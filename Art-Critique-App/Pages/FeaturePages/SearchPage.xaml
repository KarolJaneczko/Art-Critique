<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Art_Critique.SearchPage">

    <ScrollView>
        <Grid RowDefinitions="Auto,Auto" Padding="20,0">
            <!-- Loading indicator -->
            <StackLayout x:Name="Loading" BackgroundColor="LightGray" IsVisible="{Binding IsLoading}">
                <ActivityIndicator IsVisible="True" IsRunning="True" HeightRequest="50" VerticalOptions="CenterAndExpand" HorizontalOptions="Center" />
            </StackLayout>

            <StackLayout Grid.Row="1">
                <SearchBar x:Name="searchBar" SearchCommand="{Binding PerformSearch}" Placeholder="Search for users or artworks" 
                   SearchCommandParameter="{Binding Text, Source={x:Reference searchBar}}"/>
                <ListView x:Name="searchResults1"
                  ItemsSource="{Binding ProfileSearchResult}" />
                <ListView x:Name="searchResults2"
                  ItemsSource="{Binding ArtworkSearchResult}" />
            </StackLayout>
        </Grid>
    </ScrollView>
</ContentPage>