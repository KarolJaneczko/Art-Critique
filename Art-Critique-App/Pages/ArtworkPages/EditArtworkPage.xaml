<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Art_Critique.EditArtworkPage"
             Title="Edit your artwork">

    <ScrollView>
        <StackLayout>
            <!-- Images -->
            <Frame BackgroundColor="#e5c064" Margin="20" Padding="5" CornerRadius="20" VerticalOptions="Center" >
                <Label Text="Edit photos"  HorizontalTextAlignment="Center" FontSize="20" CharacterSpacing="1" FontFamily="PragmaticaMedium" FontAttributes="Bold" />
            </Frame>
            <VerticalStackLayout HorizontalOptions="Center" Margin="0,10,0,0">
                <CollectionView x:Name="AddedPhotos" ItemsSource="{Binding ArtworkPhotos}" ItemsLayout="HorizontalList">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <VerticalStackLayout>
                                <Frame WidthRequest="190" HeightRequest="250" BorderColor="Transparent" CornerRadius="30" IsClippedToBounds="true" HorizontalOptions="Center" Margin="15,0,15,5">
                                    <Image Source="{Binding Image}"  WidthRequest="190" HeightRequest="250" Aspect="AspectFill" />
                                </Frame>
                                <Button Text="Remove" WidthRequest="100" Command="{Binding Source={x:Reference AddedPhotos}, Path=BindingContext.DeleteCommand}" CommandParameter="{Binding}" />
                            </VerticalStackLayout>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </VerticalStackLayout>
            <HorizontalStackLayout HorizontalOptions="Center" Margin="0, 10, 0, 0" Spacing="10">
                <Button Style="{StaticResource MediumPrimaryButton}" Text="Take a photo" Command="{Binding TakePhotoCommand}" />
                <Button Style="{StaticResource MediumPrimaryButton}" Text="Upload picture" Command="{Binding UploadPhotoCommand}" />
            </HorizontalStackLayout>

            <!-- Changing the title -->
            <Frame BackgroundColor="#e5c064" Margin="20,30,20,20" Padding="5" CornerRadius="20" VerticalOptions="Center" >
                <Label Text="Title"  HorizontalTextAlignment="Center" FontSize="20" CharacterSpacing="1" FontFamily="PragmaticaMedium" FontAttributes="Bold" />
            </Frame>
            <Entry Style="{StaticResource EntryInput}" Text="{Binding Title}" Placeholder="Enter title" />

            <!-- Changing the description -->
            <Frame BackgroundColor="#e5c064" Margin="20,30,20,20" Padding="5" CornerRadius="20" VerticalOptions="Center" >
                <Label Text="Description"  HorizontalTextAlignment="Center" FontSize="20" CharacterSpacing="1" FontFamily="PragmaticaMedium" FontAttributes="Bold" />
            </Frame>
            <Editor Style="{StaticResource EntryEditor}" Text="{Binding Description}" Placeholder="Enter description" />

            <!-- Changing the genre -->
            <Frame BackgroundColor="#e5c064" Margin="20,30,20,20" Padding="5" CornerRadius="20" VerticalOptions="Center" >
                <Label Text="Genre"  HorizontalTextAlignment="Center" FontSize="20" CharacterSpacing="1" FontFamily="PragmaticaMedium" FontAttributes="Bold" />
            </Frame>
            <Picker Title="Pick a genre" ItemsSource="{Binding PaintingGenres}" ItemDisplayBinding="{Binding Name}" HorizontalTextAlignment="Center" SelectedItem="{Binding SelectedGenre}" />
            <Border IsVisible="{Binding IsOtherGenreVisible}">
                <Entry Style="{StaticResource EntryInput}" Text="{Binding OtherGenre}" Placeholder="Genre name" />
            </Border>

            <!-- Button -->
            <Button Style="{StaticResource LargePrimaryButton}" Text="Confirm" Command="{Binding ConfirmCommand}" Margin="0,20" />
        </StackLayout>
    </ScrollView>
</ContentPage>